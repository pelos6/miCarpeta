create table W_MER_EXP
(
  COD_CON     NUMBER(4) not null,
  COD_SOL     VARCHAR2(4),
  TIPO_ID     VARCHAR2(1) not null,
  DNI         VARCHAR2(15),
  COD_EXP     NUMBER(2),
  COD_CUE_EXP VARCHAR2(4),
  COD_ESP_EXP VARCHAR2(3),
  COD_CEN     VARCHAR2(8),
  F_POS       VARCHAR2(10),
  F_CES       VARCHAR2(10),
  N_AÑO_SER   NUMBER(2),
  N_MES_SER   NUMBER(2),
  N_DIA_SER   NUMBER(2)
)
;
comment on table W_MER_EXP
  is 'Meritos de experiencia docente (no incluye centros publicos de Aragon porque estan en SIGP)';
comment on column W_MER_EXP.COD_CON
  is 'Codigo de convocatoria';
comment on column W_MER_EXP.COD_SOL
  is 'Código de la solicitud web';
comment on column W_MER_EXP.TIPO_ID
  is 'Tipo de identificador del participante';
comment on column W_MER_EXP.DNI
  is 'Identificacion del solicitante';
comment on column W_MER_EXP.COD_EXP
  is 'Código del merito dentro de la solicitud';
comment on column W_MER_EXP.COD_CUE_EXP
  is 'Código del cuerpo de destino';
comment on column W_MER_EXP.COD_ESP_EXP
  is 'Código de la especialidad de destino';
comment on column W_MER_EXP.COD_CEN
  is 'Código del centro de destino';
comment on column W_MER_EXP.F_POS
  is 'Fecha de toma de posesion en el destino';
comment on column W_MER_EXP.F_CES
  is 'Fecha de cese del destino';
comment on column W_MER_EXP.N_AÑO_SER
  is 'Numero de años de servicio';
comment on column W_MER_EXP.N_MES_SER
  is 'Numero de meses de servicio';
comment on column W_MER_EXP.N_DIA_SER
  is 'Numero de dias de servicio';
alter table W_MER_EXP
  add constraint PK_W_MER_EXP primary key (COD_CON, COD_SOL, TIPO_ID, DNI, COD_EXP);
alter table W_MER_EXP
  add constraint FK_W_MER_EXP_CON foreign key (COD_CON)
  references W_CON (COD_CON);
alter table W_MER_EXP
  add constraint FK_W_MER_EXP_SOL foreign key (COD_CON, COD_SOL, TIPO_ID, DNI)
  references W_SOL (COD_CON, COD_SOL, TIPO_ID, DNI);
alter table W_MER_EXP
  add constraint NN_W_MER_EXP_DNI
  check ("DNI" IS NOT NULL);
alter table W_MER_EXP
  add constraint NN_W_MER_EXP_M_ORDEN
  check ("COD_EXP" IS NOT NULL);
alter table W_MER_EXP
  add constraint NN_W_MER_EXP_NORDEN
  check ("COD_SOL" IS NOT NULL);

