create table W_MER_ACT
(
  COD_CON NUMBER(4) not null,
  COD_SOL VARCHAR2(4),
  TIPO_ID VARCHAR2(1) not null,
  DNI     VARCHAR2(15),
  COD_ACT NUMBER(3),
  COD_CEN VARCHAR2(8),
  DES_ACT VARCHAR2(300),
  N_HOR   VARCHAR2(6),
  F_FIN   VARCHAR2(10)
)
;
comment on table W_MER_ACT
  is 'Meritos de actividades de formación';
comment on column W_MER_ACT.COD_CON
  is 'Código de la Convocatoria';
comment on column W_MER_ACT.COD_SOL
  is 'Código de la solicitud web';
comment on column W_MER_ACT.TIPO_ID
  is 'Tipo de identificador';
comment on column W_MER_ACT.DNI
  is 'Identificacion del solicitante';
comment on column W_MER_ACT.COD_ACT
  is 'Orden del merito dentro de la solicitud';
comment on column W_MER_ACT.COD_CEN
  is 'Código del centro de la actividad';
comment on column W_MER_ACT.DES_ACT
  is 'Descripción de la actividad';
comment on column W_MER_ACT.N_HOR
  is 'Número de horas';
comment on column W_MER_ACT.F_FIN
  is 'Fecha de la finalización de la actividad';
alter table W_MER_ACT
  add constraint PK_W_MER_ACT primary key (COD_CON, COD_SOL, TIPO_ID, DNI, COD_ACT);
alter table W_MER_ACT
  add constraint FK_W_MER_ACT_CON foreign key (COD_CON)
  references W_CON (COD_CON);
alter table W_MER_ACT
  add constraint FK_W_MER_ACT_SOL foreign key (COD_CON, COD_SOL, TIPO_ID, DNI)
  references W_SOL (COD_CON, COD_SOL, TIPO_ID, DNI);
alter table W_MER_ACT
  add constraint NN_W_MER_ACT_FOR_DNI
  check ("DNI" IS NOT NULL);
alter table W_MER_ACT
  add constraint NN_W_MER_ACT_FOR_M_ORDEN
  check ("COD_ACT" IS NOT NULL);
alter table W_MER_ACT
  add constraint NN_W_MER_ACT_FOR_NORDEN
  check ("COD_SOL" IS NOT NULL);

