create table W_MER_IDI
(
  COD_CON NUMBER(4) not null,
  COD_SOL VARCHAR2(4),
  TIPO_ID VARCHAR2(1) not null,
  DNI     VARCHAR2(15),
  COD_IDI NUMBER(2),
  DES_IDI VARCHAR2(150),
  F_INI   VARCHAR2(10),
  F_FIN   VARCHAR2(10)
)
;
comment on table W_MER_IDI
  is 'Otros Méritos, Idiomas Modernos';
comment on column W_MER_IDI.COD_CON
  is 'Código de la convocatoria';
comment on column W_MER_IDI.COD_SOL
  is 'Numero de orden de la solicitud web';
comment on column W_MER_IDI.TIPO_ID
  is 'Tipo de identificador del participante';
comment on column W_MER_IDI.DNI
  is 'Identificacion del solicitante';
comment on column W_MER_IDI.COD_IDI
  is 'Orden del merito dentro de la solicitud';
comment on column W_MER_IDI.DES_IDI
  is 'Descripción de la calificación de deportista de alto nivel';
comment on column W_MER_IDI.F_INI
  is 'Fecha de inicio del mérito';
comment on column W_MER_IDI.F_FIN
  is 'Fecha de fin del mérito';
alter table W_MER_IDI
  add constraint PK_W_MER_IDI primary key (COD_CON, COD_SOL, TIPO_ID, DNI, COD_IDI);
alter table W_MER_IDI
  add constraint FK_W_MER_IDI_CON foreign key (COD_CON)
  references W_CON (COD_CON);
alter table W_MER_IDI
  add constraint FK_W_MER_IDI_SOL foreign key (COD_CON, COD_SOL, TIPO_ID, DNI)
  references W_SOL (COD_CON, COD_SOL, TIPO_ID, DNI);
alter table W_MER_IDI
  add constraint NN_W_MER_IDI_DNI
  check ("DNI" IS NOT NULL);
alter table W_MER_IDI
  add constraint NN_W_MER_IDI_M_ORDEN
  check ("COD_IDI" IS NOT NULL);
alter table W_MER_IDI
  add constraint NN_W_MER_IDI_NORDEN
  check ("COD_SOL" IS NOT NULL);

