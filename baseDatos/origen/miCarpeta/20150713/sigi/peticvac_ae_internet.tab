create table PETICVAC_AE_INTERNET
(
  F_CONV_AE      DATE not null,
  TIPO_ID        VARCHAR2(1) not null,
  DNI            VARCHAR2(15) not null,
  C_SOL          VARCHAR2(4) not null,
  AÑO_INI_CUR    VARCHAR2(4) not null,
  N_VACANTE      NUMBER(4) not null,
  N_ORD_PREF     NUMBER(4) not null,
  C_ESTADO_PETVA VARCHAR2(1) not null
)
;
comment on table PETICVAC_AE_INTERNET
  is ' Peticiones de vacantes incluidas en cada solicitud. ';
comment on column PETICVAC_AE_INTERNET.F_CONV_AE
  is 'Acto de Elección al que corresponde la petición. ';
comment on column PETICVAC_AE_INTERNET.TIPO_ID
  is ' Tipo de Identificador del candidato preseleccionado. ';
comment on column PETICVAC_AE_INTERNET.DNI
  is ' Dni del candidato preseleccionado. ';
comment on column PETICVAC_AE_INTERNET.C_SOL
  is ' Código de solicitud de ese candidato para este Acto de Elección. ';
comment on column PETICVAC_AE_INTERNET.AÑO_INI_CUR
  is ' Año de inicio de curso academico al que corresponde la Vacante. ';
comment on column PETICVAC_AE_INTERNET.N_VACANTE
  is ' Número identificativo de la vacante dentro del curso academico. ';
comment on column PETICVAC_AE_INTERNET.N_ORD_PREF
  is ' Número de orden de preferencia con el que pide la vacante del AE. ';
comment on column PETICVAC_AE_INTERNET.C_ESTADO_PETVA
  is ' Código de estado de la petición de vacante concreta .';
alter table PETICVAC_AE_INTERNET
  add constraint PK_PETICVAC_AE_INT primary key (F_CONV_AE, TIPO_ID, DNI, AÑO_INI_CUR, N_VACANTE, C_SOL);
alter table PETICVAC_AE_INTERNET
  add constraint FK_PEAEI_SOAEI foreign key (F_CONV_AE, TIPO_ID, DNI, C_SOL)
  references SOLICITUDES_AE_INTERNET (F_CONV_AE, TIPO_ID, DNI, C_SOL);
alter table PETICVAC_AE_INTERNET
  add constraint FK_PEAEI_VAAEI foreign key (F_CONV_AE, AÑO_INI_CUR, N_VACANTE)
  references VACANTES_AE (F_CONV_AE, AÑO_INI_CUR, N_VACANTE);

